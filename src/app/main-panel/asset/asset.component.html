<!-- TODO Adicionar foto do ativo -->
<!-- TODO Adicionar arquivos do ativo (manuais, datasheets, etc.) -->

<div class="card">
  <div class="card-header">

      <div class="clearfix">

        <div [ngSwitch]="action">
            <div *ngSwitchCase="'view'">VISUALIZAR ATIVO</div>
            <div *ngSwitchCase="'create'">CRIAR ATIVO</div>
            <div *ngSwitchCase="'edit'">EDITAR ATIVO</div>
            <div *ngSwitchCase="'delete'">EXCLUIR ATIVO</div>            
        </div>
    </div>
    
  </div>

  <div class="card-block">

<form #f="ngForm">
    <div class="form-group row" *ngIf="action !== 'create'">
        <label for="id" class="control-label col-sm-2">Código:</label>
        <div class="col-sm-4">
            <input name="id" id="id" class="form-control form-control-sm" [disabled]="isFormDisabled()" [(ngModel)]="asset.id"/>
        </div>
    </div>

    <div class="form-group row">
        <label for="code" class="control-label col-sm-2">Tombamento:</label>
        <div class="col-sm-4">
            <input name="code" id="code" class="form-control form-control-sm" [disabled]="isFormDisabled()" [(ngModel)]="asset.code" required #code="ngModel"/>
            <small *ngIf="!code.valid && code.touched" class="form-text text-muted">Por gentileza, entre com um tombamento válido</small>
        </div>
    </div>

    <div class="form-group row">
        <label for="name" class="control-label col-sm-2">Nome:</label>
        <div class="col-sm-4">
            <input name="name" id="name" class="form-control form-control-sm" [disabled]="isFormDisabled()" [(ngModel)]="asset.name" required #name="ngModel"/>
            <small *ngIf="!name.valid && name.touched" class="form-text text-muted">Por gentileza, entre com um nome válido</small>
        </div>
    </div>

    <div class="form-group row">
        <label for="model" class="control-label col-sm-2">Modelo:</label>
        <div class="col-sm-4">
            <input name="model" id="model" class="form-control form-control-sm" [disabled]="isFormDisabled()" [(ngModel)]="asset.model" required #model="ngModel"/>
            <small *ngIf="!model.valid && model.touched" class="form-text text-muted">Por gentileza, entre com um modelo válido</small>
        </div>
    </div>

    <div class="form-group row"> 
        <label for="vendor" class="control-label col-sm-2">Fornecedor:</label>
        <div class="col-sm-4">
            <select class="form-control form-control-sm" id="vendor" [disabled]="isFormDisabled()" name="vendor" [(ngModel)]="asset.vendor" required #vendor="ngModel">
                <option *ngFor="let vendor of vendors" [ngValue]='vendor'>{{vendor.name}}</option>                
            </select>            
            <small *ngIf="!vendor.valid && vendor.touched" class="form-text text-muted">Por gentileza, entre com um fornecedor válido</small>
        </div>
    </div>

    <div class="form-group row"> 
        <div class="col-sm-offset-2 col-sm-10">
            <button (click)="onSubmit(f)" *ngIf="action === 'delete'" class="btn btn-primary btn-sm">Delete</button>
            <button (click)="onSubmit(f)" [disabled]="!f.valid"*ngIf="action === 'create' || action === 'edit'" class="btn btn-primary btn-sm">Save</button>
            <button routerLink="/assets" *ngIf="action !== 'view'" class="btn btn-default btn-sm">Cancelar</button>
            <button routerLink="/assets" *ngIf="action === 'view'" class="btn btn-default btn-sm">Voltar</button>
        </div>
    </div>
</form>

</div>
</div>